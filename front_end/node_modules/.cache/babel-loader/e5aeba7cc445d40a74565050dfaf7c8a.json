{"ast":null,"code":"var _jsxFileName = \"/home/karthikeya/Desktop/cs387/project/front_end/src/World/World_info.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport WorldMap from \"react-svg-worldmap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-date-range/dist/styles.css'; // main style file\n\nimport 'react-date-range/dist/theme/default.css'; // theme css file\n\nimport { DateRangePicker } from 'react-date-range';\nimport { components } from \"react-select\";\nimport { default as ReactSelect } from \"react-select\";\nimport { BrowserRouter as Router, Routes, Route, Link, useParams } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst statOptions = [{\n  value: 1,\n  label: \"Deaths\"\n}, {\n  value: 2,\n  label: \"Active cases\"\n}];\n\nconst Option = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(components.Option, { ...props,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: props.isSelected,\n        onChange: () => null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n        children: props.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 7\n  }, this);\n};\n\n_c = Option;\n\nconst {\n  getCode,\n  getName\n} = require('country-list');\n\nclass World_info extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange2 = selected => {\n      this.setState({\n        Stat_options: selected\n      });\n    };\n\n    this.state = {\n      name: \"India\",\n      Stat_options: null,\n      date: [],\n      map_data: [],\n      req1: false\n    };\n    console.log(\"This is world constructor\");\n    console.log(getName('IS')); // Iceland\n\n    console.log(getCode('Iceland'));\n    this.data = [{\n      country: \"CN\",\n      value: 1389618778\n    }, // china\n    {\n      country: \"in\",\n      value: 1311559204\n    }, // india\n    {\n      country: \"us\",\n      value: 331883986\n    }, // united states\n    {\n      country: \"id\",\n      value: 264935824\n    }, // indonesia\n    {\n      country: \"pk\",\n      value: 210797836\n    }, // pakistan\n    {\n      country: \"br\",\n      value: 210301591\n    }, // brazil\n    {\n      country: \"ng\",\n      value: 208679114\n    }, // nigeria\n    {\n      country: \"bd\",\n      value: 161062905\n    }, // bangladesh\n    {\n      country: \"ru\",\n      value: 141944641\n    }, // russia\n    {\n      country: \"mx\",\n      value: 127318112\n    } // mexico\n    ];\n    this.setcolor = this.setcolor.bind(this);\n    this.get_data = this.get_data.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.display_map = this.display_map.bind(this);\n  }\n\n  componentDidMount() {// do nothing as of now \n  }\n\n  handleSelect(date) {\n    // native Date object\n    let p = Object.values(date)[0];\n    let p3 = JSON.stringify(p.endDate);\n    let p2 = JSON.stringify(p.startDate);\n    console.log(p2);\n    console.log(p3);\n    this.setState({\n      date: date\n    });\n  }\n\n  get_data() {\n    let p = Object.values(this.state.date)[0];\n    let p2 = JSON.stringify(p.startDate);\n    console.log(p2);\n    let p4 = 'http://10.42.0.51:8000/map/' + p2;\n    fetch(p4).then(Response => Response.json()).then(json => {\n      let tp = JSON.parse(json);\n      var mydata = [];\n      var skipcount = 0;\n\n      for (var j = 0; j < tp.length; j++) {\n        var code = getCode(tp[j][0]);\n        var myvalue = tp[j][1];\n\n        if (typeof code == 'undefined') {\n          skipcount = skipcount + 1;\n        } else {\n          if (tp[j][0] == \"Bolivia\") code = \"BO\";\n          if (tp[j][0] == \"Bonaire Sint Eustatius and Saba\") code = \"BQ\";\n          mydata[j - skipcount] = {\n            country: code,\n            value: myvalue\n          };\n        }\n      }\n\n      this.setState({\n        map_data: mydata,\n        req1: true\n      });\n    });\n  }\n\n  display_map() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n    if (!this.state.req1) return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(WorldMap, {\n        color: \"red\",\n        title: \"Top 10 Populous Countries\",\n        \"value-suffix\": \"people\",\n        size: \"responsive\",\n        data: this.state.map_data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n  setcolor(props) {\n    var maxc = 0;\n\n    for (var i = 0; i < props.data.length; i++) {\n      maxc = Math.max(maxc, props.data[i].value);\n    }\n\n    for (var i = 0; i < props.data.length; i++) {\n      this.data[i].value = this.data[i].value / maxc;\n    }\n  }\n\n  render() {\n    const selectionRange = {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection'\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(this.display_map, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.get_data,\n        children: \"get data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" World page \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select Statistic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"d-inline-block\",\n        \"data-toggle\": \"popover\",\n        \"data-trigger\": \"focus\",\n        \"data-content\": \"Please selecet account(s)\",\n        children: /*#__PURE__*/_jsxDEV(ReactSelect, {\n          options: statOptions,\n          closeMenuOnSelect: false,\n          hideSelectedOptions: false,\n          components: {\n            Option\n          },\n          onChange: this.handleChange2,\n          value: this.state.Stat_options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DateRangePicker, {\n        ranges: [selectionRange],\n        onChange: this.handleSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _s(props => {\n  _s();\n\n  return /*#__PURE__*/_jsxDEV(World_info, { ...props,\n    params: useParams()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n}, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n  return [useParams];\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"Option\");","map":{"version":3,"sources":["/home/karthikeya/Desktop/cs387/project/front_end/src/World/World_info.js"],"names":["React","WorldMap","DateRangePicker","components","default","ReactSelect","BrowserRouter","Router","Routes","Route","Link","useParams","Button","statOptions","value","label","Option","props","isSelected","getCode","getName","require","World_info","Component","constructor","handleChange2","selected","setState","Stat_options","state","name","date","map_data","req1","console","log","data","country","setcolor","bind","get_data","handleSelect","display_map","componentDidMount","p","Object","values","p3","JSON","stringify","endDate","p2","startDate","p4","fetch","then","Response","json","tp","parse","mydata","skipcount","j","length","code","myvalue","maxc","i","Math","max","render","selectionRange","Date","key"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAO,sCAAP;AACA,OAAO,kCAAP,C,CAA2C;;AAC3C,OAAO,yCAAP,C,CAAkD;;AAClD,SAASC,eAAT,QAAgC,kBAAhC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAO,IAAIC,WAApB,QAAuC,cAAvC;AACA,SACIC,aAAa,IAAIC,MADrB,EAEIC,MAFJ,EAGIC,KAHJ,EAIIC,IAJJ,EAKIC,SALJ,QAOS,kBAPT;AAQE,SAAQC,MAAR,QAAqB,iBAArB;;;AAEA,MAAMC,WAAW,GAAG,CAClB;AAAEC,EAAAA,KAAK,EAAG,CAAV;AAAcC,EAAAA,KAAK,EAAG;AAAtB,CADkB,EAElB;AAAED,EAAAA,KAAK,EAAG,CAAV;AAAaC,EAAAA,KAAK,EAAG;AAArB,CAFkB,CAApB;;AAOA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACxB,sBACE;AAAA,2BACE,QAAC,UAAD,CAAY,MAAZ,OAAuBA,KAAvB;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,OAAO,EAAEA,KAAK,CAACC,UAFjB;AAGE,QAAA,QAAQ,EAAE,MAAM;AAHlB;AAAA;AAAA;AAAA;AAAA,cADF,EAKK,GALL,eAME;AAAA,kBAAQD,KAAK,CAACF;AAAd;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAbD;;KAAMC,M;;AAeN,MAAM;AAAEG,EAAAA,OAAF;AAAWC,EAAAA;AAAX,IAAuBC,OAAO,CAAC,cAAD,CAApC;;AAEF,MAAMC,UAAN,SAAyBtB,KAAK,CAACuB,SAA/B,CAAwC;AAEpCC,EAAAA,WAAW,CAACP,KAAD,EAAO;AAEd,UAAMA,KAAN;;AAFc,SAuClBQ,aAvCkB,GAuCFC,QAAQ,IAAI;AACxB,WAAKC,QAAL,CAAc;AAEZC,QAAAA,YAAY,EAAGF;AAFH,OAAd;AAOD,KA/Ce;;AAId,SAAKG,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAG,OADE;AAETF,MAAAA,YAAY,EAAG,IAFN;AAGTG,MAAAA,IAAI,EAAG,EAHE;AAITC,MAAAA,QAAQ,EAAG,EAJF;AAKTC,MAAAA,IAAI,EAAG;AALE,KAAb;AAUAC,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AAGRD,IAAAA,OAAO,CAACC,GAAR,CAAYf,OAAO,CAAC,IAAD,CAAnB,EAjBsB,CAiBM;;AAC5Bc,IAAAA,OAAO,CAACC,GAAR,CAAYhB,OAAO,CAAC,SAAD,CAAnB;AAEQ,SAAKiB,IAAL,GAAY,CACR;AAAEC,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KADQ,EAC8B;AACtC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KAFQ,EAE8B;AACtC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KAHQ,EAG6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KAJQ,EAI6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KALQ,EAK6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KANQ,EAM6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KAPQ,EAO6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KARQ,EAQ6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KATQ,EAS6B;AACrC;AAAEuB,MAAAA,OAAO,EAAE,IAAX;AAAiBvB,MAAAA,KAAK,EAAE;AAAxB,KAVQ,CAU6B;AAV7B,KAAZ;AAaA,SAAKwB,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AAEH;;AAWDI,EAAAA,iBAAiB,GAAE,CAEf;AAEH;;AAEDF,EAAAA,YAAY,CAACV,IAAD,EAAM;AACd;AAEA,QAAIa,CAAC,GAAGC,MAAM,CAACC,MAAP,CAAcf,IAAd,EAAoB,CAApB,CAAR;AAEA,QAAIgB,EAAE,GAAGC,IAAI,CAACC,SAAL,CAAeL,CAAC,CAACM,OAAjB,CAAT;AACA,QAAIC,EAAE,GAAGH,IAAI,CAACC,SAAL,CAAeL,CAAC,CAACQ,SAAjB,CAAT;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAYgB,EAAZ;AAAkBjB,IAAAA,OAAO,CAACC,GAAR,CAAYY,EAAZ;AAElB,SAAKpB,QAAL,CAAc;AACZI,MAAAA,IAAI,EAAGA;AADK,KAAd;AAKH;;AAEDS,EAAAA,QAAQ,GAAE;AAER,QAAII,CAAC,GAAGC,MAAM,CAACC,MAAP,CAAc,KAAKjB,KAAL,CAAWE,IAAzB,EAA+B,CAA/B,CAAR;AAEE,QAAIoB,EAAE,GAAGH,IAAI,CAACC,SAAL,CAAeL,CAAC,CAACQ,SAAjB,CAAT;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAYgB,EAAZ;AACA,QAAIE,EAAE,GAAG,gCAA8BF,EAAvC;AAEAG,IAAAA,KAAK,CAACD,EAAD,CAAL,CACCE,IADD,CACOC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADpB,EAECF,IAFD,CAEOE,IAAD,IAAU;AAEZ,UAAIC,EAAE,GAAIV,IAAI,CAACW,KAAL,CAAWF,IAAX,CAAV;AAGA,UAAIG,MAAM,GAAG,EAAb;AACA,UAAIC,SAAS,GAAG,CAAhB;;AAEA,WAAI,IAAIC,CAAC,GAAE,CAAX,EAAcA,CAAC,GAAGJ,EAAE,CAACK,MAArB,EAA6BD,CAAC,EAA9B,EAAiC;AAG/B,YAAIE,IAAI,GAAG7C,OAAO,CAACuC,EAAE,CAACI,CAAD,CAAF,CAAM,CAAN,CAAD,CAAlB;AAA+B,YAAIG,OAAO,GAAGP,EAAE,CAACI,CAAD,CAAF,CAAM,CAAN,CAAd;;AAG/B,YAAG,OAAOE,IAAP,IAAgB,WAAnB,EAAiC;AAAEH,UAAAA,SAAS,GAAGA,SAAS,GAAG,CAAxB;AAA4B,SAA/D,MACI;AAEF,cAAGH,EAAE,CAACI,CAAD,CAAF,CAAM,CAAN,KAAY,SAAf,EAA0BE,IAAI,GAAG,IAAP;AAC1B,cAAGN,EAAE,CAACI,CAAD,CAAF,CAAM,CAAN,KAAY,iCAAf,EAAkDE,IAAI,GAAG,IAAP;AAClDJ,UAAAA,MAAM,CAACE,CAAC,GAACD,SAAH,CAAN,GAAsB;AAACxB,YAAAA,OAAO,EAAE2B,IAAV;AAAgBlD,YAAAA,KAAK,EAAEmD;AAAvB,WAAtB;AACD;AACF;;AAED,WAAKtC,QAAL,CAAc;AAGZK,QAAAA,QAAQ,EAAG4B,MAHC;AAIZ3B,QAAAA,IAAI,EAAG;AAJK,OAAd;AAQH,KAjCD;AAuCH;;AAEDS,EAAAA,WAAW,GAAE;AAEX,wBAAO;AAAA,mCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH;AAAA,oBAAP;AACA,QAAG,CAAC,KAAKb,KAAL,CAAWI,IAAf,EAAqB,oBAAO;AAAA,mCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH;AAAA,oBAAP;AAIrB,wBAEE;AAAA,6BAEA,QAAC,QAAD;AACY,QAAA,KAAK,EAAC,KADlB;AAEY,QAAA,KAAK,EAAC,2BAFlB;AAIY,wBAAa,QAJzB;AAKY,QAAA,IAAI,EAAC,YALjB;AAMY,QAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWG;AAN7B;AAAA;AAAA;AAAA;AAAA;AAFA,qBAFF;AAqBD;;AAEDM,EAAAA,QAAQ,CAACrB,KAAD,EAAO;AAIX,QAAIiD,IAAI,GAAG,CAAX;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAElD,KAAK,CAACmB,IAAN,CAAW2B,MAA7B,EAAqCI,CAAC,EAAtC,EAAyC;AAErCD,MAAAA,IAAI,GAAGE,IAAI,CAACC,GAAL,CAASH,IAAT,EAAcjD,KAAK,CAACmB,IAAN,CAAW+B,CAAX,EAAcrD,KAA5B,CAAP;AAGH;;AAED,SAAI,IAAIqD,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAElD,KAAK,CAACmB,IAAN,CAAW2B,MAA7B,EAAqCI,CAAC,EAAtC,EAAyC;AACvC,WAAK/B,IAAL,CAAU+B,CAAV,EAAarD,KAAb,GAAqB,KAAKsB,IAAL,CAAU+B,CAAV,EAAarD,KAAb,GAAmBoD,IAAxC;AAED;AASJ;;AAEDI,EAAAA,MAAM,GAAE;AAEJ,UAAMC,cAAc,GAAG;AACnBnB,MAAAA,SAAS,EAAE,IAAIoB,IAAJ,EADQ;AAEnBtB,MAAAA,OAAO,EAAE,IAAIsB,IAAJ,EAFU;AAGnBC,MAAAA,GAAG,EAAE;AAHc,KAAvB;AAOA,wBAII;AAAA,8BACC,aAAO,WAAP;AAAA;AAAA;AAAA;AAAA,cADD,eAME,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAG,KAAKjC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXA,eAYI;AACI,QAAA,SAAS,EAAC,gBADd;AAEI,uBAAY,SAFhB;AAGI,wBAAa,OAHjB;AAII,wBAAa,2BAJjB;AAAA,+BAMI,QAAC,WAAD;AACA,UAAA,OAAO,EAAE3B,WADT;AAGA,UAAA,iBAAiB,EAAE,KAHnB;AAIA,UAAA,mBAAmB,EAAE,KAJrB;AAKA,UAAA,UAAU,EAAE;AACRG,YAAAA;AADQ,WALZ;AAQA,UAAA,QAAQ,EAAE,KAAKS,aARf;AAUA,UAAA,KAAK,EAAE,KAAKI,KAAL,CAAWD;AAVlB;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cAZJ,eA+BI;AAAA;AAAA;AAAA;AAAA,cA/BJ,eAiCI,QAAC,eAAD;AACI,QAAA,MAAM,EAAE,CAAC2C,cAAD,CADZ;AAEI,QAAA,QAAQ,EAAE,KAAK9B;AAFnB;AAAA;AAAA;AAAA;AAAA,cAjCJ;AAAA,oBAJJ;AAkDH;;AA7OmC;;AAmPxC,kBAAgBxB,KAAD;AAAA;;AAAA,sBACX,QAAC,UAAD,OACQA,KADR;AAEI,IAAA,MAAM,EAAEN,SAAS;AAFrB;AAAA;AAAA;AAAA;AAAA,UADW;AAAA,CAAf;AAAA,UAGgBA,SAHhB;AAAA","sourcesContent":["import React from \"react\";\nimport WorldMap from \"react-svg-worldmap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-date-range/dist/styles.css'; // main style file\nimport 'react-date-range/dist/theme/default.css'; // theme css file\nimport { DateRangePicker } from 'react-date-range';\nimport { components } from \"react-select\";\nimport { default as ReactSelect } from \"react-select\";\nimport {\n    BrowserRouter as Router ,\n    Routes,\n    Route,\n    Link,\n    useParams\n  \n  } from 'react-router-dom' ;\n  import {Button} from 'react-bootstrap';\n\n  const statOptions = [\n    { value : 1 , label : \"Deaths\" },\n    { value : 2, label : \"Active cases\"}\n    \n\n  ]\n\n  const Option = (props) => {\n    return (\n      <div>\n        <components.Option {...props}>\n          <input\n            type=\"checkbox\"\n            checked={props.isSelected}\n            onChange={() => null}\n          />{\" \"}\n          <label>{props.label}</label>\n        </components.Option>\n      </div>\n    );\n  };\n\n  const { getCode, getName } = require('country-list');\n\nclass World_info extends React.Component{\n\n    constructor(props){\n\n        super(props); \n\n        this.state = {\n            name : \"India\",\n            Stat_options : null,\n            date : [],\n            map_data : [],\n            req1 : false\n        }\n\n        \n\n        console.log(\"This is world constructor\") ;\n\n \nconsole.log(getName('IS')); // Iceland\nconsole.log(getCode('Iceland'));\n\n        this.data = [\n            { country: \"CN\", value: 1389618778 }, // china\n            { country: \"in\", value: 1311559204 }, // india\n            { country: \"us\", value: 331883986 }, // united states\n            { country: \"id\", value: 264935824 }, // indonesia\n            { country: \"pk\", value: 210797836 }, // pakistan\n            { country: \"br\", value: 210301591 }, // brazil\n            { country: \"ng\", value: 208679114 }, // nigeria\n            { country: \"bd\", value: 161062905 }, // bangladesh\n            { country: \"ru\", value: 141944641 }, // russia\n            { country: \"mx\", value: 127318112 }, // mexico\n          ];\n\n        this.setcolor = this.setcolor.bind(this) ;\n        this.get_data = this.get_data.bind(this);\n        this.handleSelect = this.handleSelect.bind(this) ;\n        this.display_map = this.display_map.bind(this) ;\n\n    }\n    handleChange2 = selected => {\n        this.setState({\n  \n          Stat_options : selected\n  \n  \n        })\n     \n      }\n\n    componentDidMount(){\n\n        // do nothing as of now \n\n    }\n\n    handleSelect(date){\n        // native Date object\n        \n        let p = Object.values(date)[0];\n       \n        let p3 = JSON.stringify(p.endDate);\n        let p2 = JSON.stringify(p.startDate);\n        console.log(p2) ; console.log(p3);\n        \n        this.setState({\n          date : date\n        })\n      \n      \n    }\n\n    get_data(){\n\n      let p = Object.values(this.state.date)[0];\n      \n        let p2 = JSON.stringify(p.startDate);\n        console.log(p2) ; \n        let p4 = 'http://10.42.0.51:8000/map/'+p2 ;\n\n        fetch(p4)\n        .then((Response) => Response.json())\n        .then((json) => {\n\n            let tp  = JSON.parse(json);\n           \n            \n            var mydata = [] ;\n            var skipcount = 0 ;\n\n            for(var j =0 ;j < tp.length ;j++){ \n              \n              \n              var code = getCode(tp[j][0]) ; var myvalue = tp[j][1] ;\n              \n\n              if(typeof(code) == 'undefined' ) { skipcount = skipcount + 1 ;}\n              else{\n\n                if(tp[j][0] == \"Bolivia\") code = \"BO\" ;\n                if(tp[j][0] == \"Bonaire Sint Eustatius and Saba\") code = \"BQ\" ;\n                mydata[j-skipcount] = {country: code, value: myvalue} ;\n              }\n            }\n\n            this.setState({\n\n\n              map_data : mydata ,\n              req1 : true \n            })\n            \n            \n        })\n\n       \n\n\n\n    }\n\n    display_map(){\n\n      return(<> <p>Waiting for data</p></>) ;\n      if(!this.state.req1) return(<> <p>Waiting for data</p></>) ;\n\n\n\n      return(\n\n        <>\n        \n        <WorldMap\n                    color=\"red\"\n                    title=\"Top 10 Populous Countries\"\n                    \n                    value-suffix=\"people\"\n                    size=\"responsive\"\n                    data={this.state.map_data}\n                />\n          \n\n        \n        </>\n\n\n      )\n\n\n    }\n\n    setcolor(props){\n\n        \n        \n        var maxc = 0;\n        for(var i = 0; i< props.data.length; i++){\n\n            maxc = Math.max(maxc,props.data[i].value);\n\n            \n        } \n      \n        for(var i = 0; i< props.data.length; i++){\n          this.data[i].value = this.data[i].value/maxc ;\n          \n        }\n        \n        \n\n\n      \n        \n\n\n    }\n\n    render(){\n\n        const selectionRange = {\n            startDate: new Date(),\n            endDate: new Date(),\n            key: 'selection',\n          }\n\n\n        return(\n\n            \n\n            <>\n            {< this.display_map />} \n\n            \n\n            \n              <Button onClick={ this.get_data}>get data</Button>\n                <h1> World page </h1>\n            \n                \n\n            <p>Select Statistic</p>\n                <span\n                    className=\"d-inline-block\"\n                    data-toggle=\"popover\"\n                    data-trigger=\"focus\"\n                    data-content=\"Please selecet account(s)\"\n                >\n                    <ReactSelect\n                    options={statOptions}\n                    \n                    closeMenuOnSelect={false}\n                    hideSelectedOptions={false}\n                    components={{\n                        Option\n                    }}\n                    onChange={this.handleChange2}\n                    \n                    value={this.state.Stat_options}\n                    />\n                </span>\n                <br></br>\n\n                <DateRangePicker\n                    ranges={[selectionRange]}\n                    onChange={this.handleSelect}\n                />\n            \n            \n            </>\n\n\n\n\n\n        )\n    }\n\n}\n\n\n\nexport default (props) => (\n    <World_info\n        {...props}\n        params={useParams()}\n    />\n);"]},"metadata":{},"sourceType":"module"}